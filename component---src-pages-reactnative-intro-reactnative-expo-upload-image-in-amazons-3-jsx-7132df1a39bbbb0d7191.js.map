{"version":3,"sources":["webpack:///component---src-pages-reactnative-intro-reactnative-expo-upload-image-in-amazons-3-jsx-7132df1a39bbbb0d7191.js","webpack:///./src/images/expo/FinalScreenShot.png","webpack:///./src/images/expo/cameracapture.png","webpack:///./src/images/expo/newprojectemptyscreen.png","webpack:///./src/images/expo/uploadedimage.png","webpack:///./src/pages/reactnative-intro/reactnative-expo-upload-image-in-amazons3.jsx"],"names":["webpackJsonp","./src/images/expo/FinalScreenShot.png","module","exports","__webpack_require__","p","./src/images/expo/cameracapture.png","./src/images/expo/newprojectemptyscreen.png","./src/images/expo/uploadedimage.png","./node_modules/babel-loader/lib/index.js?{\"plugins\":[\"/Users/prakash/Documents/reactjs/node_modules/gatsby/dist/utils/babel-plugin-extract-graphql.js\",\"/Users/prakash/Documents/reactjs/node_modules/babel-plugin-lodash/lib/index.js\",\"/Users/prakash/Documents/reactjs/node_modules/babel-plugin-add-module-exports/lib/index.js\",\"/Users/prakash/Documents/reactjs/node_modules/babel-plugin-transform-object-assign/lib/index.js\"],\"presets\":[[\"/Users/prakash/Documents/reactjs/node_modules/babel-preset-env/lib/index.js\",{\"loose\":true,\"uglify\":true,\"modules\":\"commonjs\",\"targets\":{\"browsers\":[\"> 1%\",\"last 2 versions\",\"IE >= 9\"]},\"exclude\":[\"transform-regenerator\",\"transform-es2015-typeof-symbol\"]}],\"/Users/prakash/Documents/reactjs/node_modules/babel-preset-stage-0/lib/index.js\",\"/Users/prakash/Documents/reactjs/node_modules/babel-preset-react/lib/index.js\"],\"cacheDirectory\":true}!./src/pages/reactnative-intro/reactnative-expo-upload-image-in-amazons3.jsx","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactHelmet","_reactHelmet2","_MainLayout","_MainLayout2","_CtaButton","_CtaButton2","_Block","_Block2","_newprojectemptyscreen","_newprojectemptyscreen2","_FinalScreenShot","_FinalScreenShot2","_cameracapture","_cameracapture2","_uploadedimage","_uploadedimage2","importoptions","filenamepath","s3uploadfunction","uploadButton","uploadfunction","Date","getTime","ImageComponent","props","createElement","title","href","src","alt","height","width","style","position","left","backgroundColor","value","to"],"mappings":"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","file":"component---src-pages-reactnative-intro-reactnative-expo-upload-image-in-amazons-3-jsx-7132df1a39bbbb0d7191.js","sourcesContent":["webpackJsonp([8813963782248368000],{\n\n/***/ \"./src/images/expo/FinalScreenShot.png\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"static/FinalScreenShot.ff14bdd3.png\";\n\n/***/ }),\n\n/***/ \"./src/images/expo/cameracapture.png\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"static/cameracapture.ecac099d.png\";\n\n/***/ }),\n\n/***/ \"./src/images/expo/newprojectemptyscreen.png\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"static/newprojectemptyscreen.bfe0d772.png\";\n\n/***/ }),\n\n/***/ \"./src/images/expo/uploadedimage.png\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__.p + \"static/uploadedimage.97be6f68.png\";\n\n/***/ }),\n\n/***/ \"./node_modules/babel-loader/lib/index.js?{\\\"plugins\\\":[\\\"/Users/prakash/Documents/reactjs/node_modules/gatsby/dist/utils/babel-plugin-extract-graphql.js\\\",\\\"/Users/prakash/Documents/reactjs/node_modules/babel-plugin-lodash/lib/index.js\\\",\\\"/Users/prakash/Documents/reactjs/node_modules/babel-plugin-add-module-exports/lib/index.js\\\",\\\"/Users/prakash/Documents/reactjs/node_modules/babel-plugin-transform-object-assign/lib/index.js\\\"],\\\"presets\\\":[[\\\"/Users/prakash/Documents/reactjs/node_modules/babel-preset-env/lib/index.js\\\",{\\\"loose\\\":true,\\\"uglify\\\":true,\\\"modules\\\":\\\"commonjs\\\",\\\"targets\\\":{\\\"browsers\\\":[\\\"> 1%\\\",\\\"last 2 versions\\\",\\\"IE >= 9\\\"]},\\\"exclude\\\":[\\\"transform-regenerator\\\",\\\"transform-es2015-typeof-symbol\\\"]}],\\\"/Users/prakash/Documents/reactjs/node_modules/babel-preset-stage-0/lib/index.js\\\",\\\"/Users/prakash/Documents/reactjs/node_modules/babel-preset-react/lib/index.js\\\"],\\\"cacheDirectory\\\":true}!./src/pages/reactnative-intro/reactnative-expo-upload-image-in-amazons3.jsx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\t\n\tvar _react = __webpack_require__(\"./node_modules/react/react.js\");\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactHelmet = __webpack_require__(\"./node_modules/react-helmet/lib/Helmet.js\");\n\t\n\tvar _reactHelmet2 = _interopRequireDefault(_reactHelmet);\n\t\n\tvar _MainLayout = __webpack_require__(\"./src/components/MainLayout.jsx\");\n\t\n\tvar _MainLayout2 = _interopRequireDefault(_MainLayout);\n\t\n\tvar _CtaButton = __webpack_require__(\"./src/components/CtaButton.jsx\");\n\t\n\tvar _CtaButton2 = _interopRequireDefault(_CtaButton);\n\t\n\tvar _Block = __webpack_require__(\"./src/components/Block.jsx\");\n\t\n\tvar _Block2 = _interopRequireDefault(_Block);\n\t\n\tvar _newprojectemptyscreen = __webpack_require__(\"./src/images/expo/newprojectemptyscreen.png\");\n\t\n\tvar _newprojectemptyscreen2 = _interopRequireDefault(_newprojectemptyscreen);\n\t\n\tvar _FinalScreenShot = __webpack_require__(\"./src/images/expo/FinalScreenShot.png\");\n\t\n\tvar _FinalScreenShot2 = _interopRequireDefault(_FinalScreenShot);\n\t\n\tvar _cameracapture = __webpack_require__(\"./src/images/expo/cameracapture.png\");\n\t\n\tvar _cameracapture2 = _interopRequireDefault(_cameracapture);\n\t\n\tvar _uploadedimage = __webpack_require__(\"./src/images/expo/uploadedimage.png\");\n\t\n\tvar _uploadedimage2 = _interopRequireDefault(_uploadedimage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar importoptions = \"\\nimport { RNS3 } from 'react-native-aws3';\\n\\nconst options = {\\n  keyPrefix: \\\"uploads/\\\",\\n  bucket: \\\"your-bucket\\\",\\n  region: \\\"us-east-1\\\",\\n  accessKey: \\\"your-access-key\\\",\\n  secretKey: \\\"your-secret-key\\\",\\n  successActionStatus: 201\\n}\\n\";\n\t\n\tvar filenamepath = \"\\n\\nconst file = {\\n  // uri can also be a file system path (i.e. file://)\\n  uri: \\\"assets-library://asset/asset.PNG?id=655DBE66-8008-459C-9358-914E1FB532DD&ext=PNG\\\",\\n  name: \\\"image.png\\\",\\n  type: \\\"image/png\\\"\\n}\\n\\n\";\n\t\n\tvar s3uploadfunction = \"\\n\\nRNS3.put(file, options).then(response => {\\n  if (response.status !== 201)\\n    throw new Error(\\\"Failed to upload image to S3\\\");\\n  console.log(response.body);\\n  /**\\n   * {\\n   *   postResponse: {\\n   *     bucket: \\\"your-bucket\\\",\\n   *     etag : \\\"9f620878e06d28774406017480a59fd4\\\",\\n   *     key: \\\"uploads/image.png\\\",\\n   *     location: \\\"https://your-bucket.s3.amazonaws.com/uploads%2Fimage.png\\\"\\n   *   }\\n   * }\\n   */\\n});\\n\\n\";\n\t\n\tvar uploadButton = \"\\n// ... other code from the previous section\\n\\n{this.state.switchValue ? (\\n  <View style={styles.buttonsView}>\\n    <View style={styles.captureButtonView}>\\n      <TouchableOpacity\\n        style={styles.cameraButtons}\\n        onPress={this.snap}\\n      >\\n        <Text\\n          style={{ fontSize: 18, marginBottom: 10, color: \\\"white\\\" }}\\n        >\\n          Capture\\n        </Text>\\n      </TouchableOpacity>\\n    </View>\\n    <View style={styles.captureButtonView}>\\n      <TouchableOpacity\\n        style={styles.cameraButtons}\\n        onPress={this.upload}\\n      >\\n        <Text\\n          style={{ fontSize: 18, marginBottom: 10, color: \\\"white\\\" }}\\n        >\\n          Upload\\n        </Text>\\n      </TouchableOpacity>\\n    </View>\\n  </View>\\n) : null}\\n\\n// ... other code from the previous section\\n\";\n\t\n\tvar uploadfunction = \"\\nupload = () => {\\n  const file = {\\n    uri: this.state.imageuri,\\n    name: \" + new Date().getTime() + \".jpg,\\n    type: \\\"image/jpeg\\\"\\n  };\\n  const options = {\\n    keyPrefix: \\\"ts/\\\",\\n    bucket: \\\"celeb-c4u\\\",\\n    region: \\\"eu-west-1\\\",\\n    accessKey: \\\"AKIAI2NHLR7A5W2R3OLA\\\",\\n    secretKey: \\\"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\\\",\\n    successActionStatus: 201\\n  };\\n  return RNS3.put(file, options)\\n    .then(response => {\\n      if (response.status !== 201)\\n        throw new Error(\\\"Failed to upload image to S3\\\");\\n      else {\\n        console.log(\\n          \\\"Successfully uploaded image to s3. s3 bucket url: \\\",\\n          response.body.postResponse.location\\n        );\\n        this.setState({\\n          url: response.body.postResponse.location\\n        });\\n      }\\n    })\\n    .catch(error => {\\n      console.log(error);\\n    });\\n};\\n\\n\";\n\t\n\tvar ImageComponent = \"\\n<Image\\n  source={{uri: this.state.imageuri}}\\n  style={styles.uploadedImage}\\n  resizeMode=\\\"contain\\\"\\n/>\\n\";\n\t\n\texports.default = function (props) {\n\t  return _react2.default.createElement(\n\t    _MainLayout2.default,\n\t    null,\n\t    _react2.default.createElement(_reactHelmet2.default, { title: \"React native upload image\" }),\n\t    _react2.default.createElement(\n\t      \"h2\",\n\t      null,\n\t      \"Upload captured image into amazons3 \"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"h4\",\n\t      null,\n\t      \"App.js file(for reference): \",\n\t      \" \",\n\t      _react2.default.createElement(\n\t        \"a\",\n\t        { href: \"https://gist.github.com/PrakashMurugan/b443c44aea82f6639acbd12bf6612fdd\" },\n\t        \" \",\n\t        \"Reactnative+S3+Imageupload\",\n\t        \" \"\n\t      )\n\t    ),\n\t    _react2.default.createElement(\n\t      \"h4\",\n\t      null,\n\t      \"1. Create a new app using Expo development tool\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      _react2.default.createElement(\n\t        \"a\",\n\t        { href: \"/reactnative-intro/reactnative-expo-introduction\" },\n\t        \"In previous session,\"\n\t      ),\n\t      \"we saw how to create a new React native app using expo tool.Using the same steps here i am gonna create a new app.\"\n\t    ),\n\t    _react2.default.createElement(\"img\", {\n\t      src: _newprojectemptyscreen2.default,\n\t      alt: \"Expo new project folder structure\",\n\t      height: \"50%\",\n\t      width: \"50%\",\n\t      style: { position: \"relative\", left: \"25%\", backgroundColor: \"#000000\" }\n\t    }),\n\t    _react2.default.createElement(\n\t      \"h4\",\n\t      null,\n\t      \"2. Create a camera preview using Expo camera component and capture picture\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"I already wrote a guide about\",\n\t      _react2.default.createElement(\n\t        \"a\",\n\t        { href: \"/reactnative-intro/reactnative-expo-introduction\" },\n\t        \" \",\n\t        \"how to create a Expo app \",\n\t        \" \"\n\t      ),\n\t      \"and\",\n\t      _react2.default.createElement(\n\t        \"a\",\n\t        { href: \"/reactnative-intro/reactnative-expo-camera\" },\n\t        \" \",\n\t        \"how to create and capture picture\",\n\t        \" \"\n\t      ),\n\t      \"using Camera.\"\n\t    ),\n\t    _react2.default.createElement(\"img\", {\n\t      src: _FinalScreenShot2.default,\n\t      alt: \"Screen with capture button and functionlaityI\",\n\t      height: \"50%\",\n\t      width: \"50%\",\n\t      style: { position: \"relative\", left: \"25%\" }\n\t    }),\n\t    _react2.default.createElement(\n\t      \"h4\",\n\t      null,\n\t      \"3. Upload pictures using React native AWS S3\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"Here i am going to use the package\",\n\t      \" \",\n\t      _react2.default.createElement(\n\t        \"a\",\n\t        { href: \"https://github.com/benjreinhart/react-native-aws3\" },\n\t        \" \",\n\t        \"benjreinhart/react-native-aws3\"\n\t      ),\n\t      \".\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"Installation: \",\n\t      _react2.default.createElement(\n\t        \"b\",\n\t        null,\n\t        \"npm install --save react-native-aws3\"\n\t      )\n\t    ),\n\t    _react2.default.createElement(\n\t      \"h6\",\n\t      null,\n\t      \"i. Import package,give correct values to amazon s3 bucket\"\n\t    ),\n\t    _react2.default.createElement(_Block2.default, { value: importoptions }),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"Next we need to give file path.File name and type is important when uploading files into s3.\"\n\t    ),\n\t    _react2.default.createElement(_Block2.default, { value: filenamepath }),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"Next we need upload image by passing file and options to a function.\"\n\t    ),\n\t    _react2.default.createElement(_Block2.default, { value: s3uploadfunction }),\n\t    _react2.default.createElement(\n\t      \"h4\",\n\t      null,\n\t      \"4. Now we have to integrate our app with this package functionality\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"Add another button called \\\"Upload\\\" in the screen.And invoke \\\"upload\\\" function when it pressed.\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"App.js\"\n\t    ),\n\t    _react2.default.createElement(_Block2.default, { value: uploadButton }),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"Then we need to write a upload function.\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"Create a state variable called imageuri to store captured image and send them as input to s3 upload function \\\"put\\\".\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"Suppose if you successfully captured image and stored that into cache and imageuri state variable, RNS3.put will return the response which has results of image upload. From that result object we can find our uploaded amazon s3 uri.\"\n\t    ),\n\t    _react2.default.createElement(_Block2.default, { value: uploadfunction }),\n\t    _react2.default.createElement(\n\t      \"h4\",\n\t      null,\n\t      \"5. Show uploaded picture in the image component\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"For this i am going to check state variable \\\"imageuri\\\" if it's empty show nothing or show image.\"\n\t    ),\n\t    _react2.default.createElement(\n\t      \"p\",\n\t      null,\n\t      \"Pass image url to Image component source property.\"\n\t    ),\n\t    _react2.default.createElement(_Block2.default, { value: ImageComponent }),\n\t    _react2.default.createElement(\"img\", { src: _cameracapture2.default, alt: \"Capturing image\", height: \"50%\", width: \"50%\" }),\n\t    _react2.default.createElement(\"img\", {\n\t      src: _uploadedimage2.default,\n\t      alt: \"Showing uploaded image\",\n\t      height: \"50%\",\n\t      width: \"50%\",\n\t      style: { position: \"relative\", left: 10 }\n\t    }),\n\t    _react2.default.createElement(\n\t      \"h4\",\n\t      null,\n\t      \"App.js file\",\n\t      \" \",\n\t      _react2.default.createElement(\n\t        \"a\",\n\t        { href: \"https://gist.github.com/PrakashMurugan/b443c44aea82f6639acbd12bf6612fdd\" },\n\t        \" \",\n\t        \"Gist link\",\n\t        \" \"\n\t      )\n\t    ),\n\t    _react2.default.createElement(\"p\", null),\n\t    _react2.default.createElement(\n\t      _CtaButton2.default,\n\t      { to: \"/reactnative-intro/reactnative-expo-camera\" },\n\t      \"Previous\"\n\t    ),\n\t    _react2.default.createElement(\n\t      _CtaButton2.default,\n\t      { to: \"/reactnative-intro/\" },\n\t      \"Next\"\n\t    )\n\t  );\n\t};\n\t\n\tmodule.exports = exports[\"default\"];\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-reactnative-intro-reactnative-expo-upload-image-in-amazons-3-jsx-7132df1a39bbbb0d7191.js","module.exports = __webpack_public_path__ + \"static/FinalScreenShot.ff14bdd3.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/expo/FinalScreenShot.png\n// module id = ./src/images/expo/FinalScreenShot.png\n// module chunks = 8813963782248368000 11332510248138455000","module.exports = __webpack_public_path__ + \"static/cameracapture.ecac099d.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/expo/cameracapture.png\n// module id = ./src/images/expo/cameracapture.png\n// module chunks = 8813963782248368000","module.exports = __webpack_public_path__ + \"static/newprojectemptyscreen.bfe0d772.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/expo/newprojectemptyscreen.png\n// module id = ./src/images/expo/newprojectemptyscreen.png\n// module chunks = 8813963782248368000 11332510248138455000 11697965716276513000","module.exports = __webpack_public_path__ + \"static/uploadedimage.97be6f68.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/expo/uploadedimage.png\n// module id = ./src/images/expo/uploadedimage.png\n// module chunks = 8813963782248368000","import React from \"react\";\nimport Helmet from \"react-helmet\";\nimport MainLayout from \"../../components/MainLayout\";\nimport CtaButton from \"../../components/CtaButton\";\nimport Block from \"../../components/Block\";\nimport NewProjectEmptyScreen from \"../../images/expo/newprojectemptyscreen.png\";\nimport FinalScreenShot from \"../../images/expo/FinalScreenShot.png\";\nimport CameraCapture from \"../../images/expo/cameracapture.png\";\nimport UploadedImage from \"../../images/expo/uploadedimage.png\";\n\nconst importoptions = `\nimport { RNS3 } from 'react-native-aws3';\n\nconst options = {\n  keyPrefix: \"uploads/\",\n  bucket: \"your-bucket\",\n  region: \"us-east-1\",\n  accessKey: \"your-access-key\",\n  secretKey: \"your-secret-key\",\n  successActionStatus: 201\n}\n`;\n\nconst filenamepath = `\n\nconst file = {\n  // uri can also be a file system path (i.e. file://)\n  uri: \"assets-library://asset/asset.PNG?id=655DBE66-8008-459C-9358-914E1FB532DD&ext=PNG\",\n  name: \"image.png\",\n  type: \"image/png\"\n}\n\n`;\n\nconst s3uploadfunction = `\n\nRNS3.put(file, options).then(response => {\n  if (response.status !== 201)\n    throw new Error(\"Failed to upload image to S3\");\n  console.log(response.body);\n  /**\n   * {\n   *   postResponse: {\n   *     bucket: \"your-bucket\",\n   *     etag : \"9f620878e06d28774406017480a59fd4\",\n   *     key: \"uploads/image.png\",\n   *     location: \"https://your-bucket.s3.amazonaws.com/uploads%2Fimage.png\"\n   *   }\n   * }\n   */\n});\n\n`;\n\nconst uploadButton = `\n// ... other code from the previous section\n\n{this.state.switchValue ? (\n  <View style={styles.buttonsView}>\n    <View style={styles.captureButtonView}>\n      <TouchableOpacity\n        style={styles.cameraButtons}\n        onPress={this.snap}\n      >\n        <Text\n          style={{ fontSize: 18, marginBottom: 10, color: \"white\" }}\n        >\n          Capture\n        </Text>\n      </TouchableOpacity>\n    </View>\n    <View style={styles.captureButtonView}>\n      <TouchableOpacity\n        style={styles.cameraButtons}\n        onPress={this.upload}\n      >\n        <Text\n          style={{ fontSize: 18, marginBottom: 10, color: \"white\" }}\n        >\n          Upload\n        </Text>\n      </TouchableOpacity>\n    </View>\n  </View>\n) : null}\n\n// ... other code from the previous section\n`;\n\nconst uploadfunction = `\nupload = () => {\n  const file = {\n    uri: this.state.imageuri,\n    name: ${new Date().getTime()}.jpg,\n    type: \"image/jpeg\"\n  };\n  const options = {\n    keyPrefix: \"ts/\",\n    bucket: \"celeb-c4u\",\n    region: \"eu-west-1\",\n    accessKey: \"AKIAI2NHLR7A5W2R3OLA\",\n    secretKey: \"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\",\n    successActionStatus: 201\n  };\n  return RNS3.put(file, options)\n    .then(response => {\n      if (response.status !== 201)\n        throw new Error(\"Failed to upload image to S3\");\n      else {\n        console.log(\n          \"Successfully uploaded image to s3. s3 bucket url: \",\n          response.body.postResponse.location\n        );\n        this.setState({\n          url: response.body.postResponse.location\n        });\n      }\n    })\n    .catch(error => {\n      console.log(error);\n    });\n};\n\n`;\n\nconst ImageComponent = `\n<Image\n  source={{uri: this.state.imageuri}}\n  style={styles.uploadedImage}\n  resizeMode=\"contain\"\n/>\n`;\n\nexport default props =>\n  <MainLayout>\n    <Helmet title={\"React native upload image\"} />\n    <h2>Upload captured image into amazons3 </h2>\n    <h4>\n      App.js file(for reference): {\" \"}\n      <a href=\"https://gist.github.com/PrakashMurugan/b443c44aea82f6639acbd12bf6612fdd\">\n        {\" \"}Reactnative+S3+Imageupload{\" \"}\n      </a>\n    </h4>\n    <h4>1. Create a new app using Expo development tool</h4>\n    <p>\n      <a href=\"/reactnative-intro/reactnative-expo-introduction\">\n        In previous session,\n      </a>\n      we saw how to create a new React native app using expo tool.Using the same\n      steps here i am gonna create a new app.\n    </p>\n    <img\n      src={NewProjectEmptyScreen}\n      alt=\"Expo new project folder structure\"\n      height=\"50%\"\n      width=\"50%\"\n      style={{ position: \"relative\", left: \"25%\", backgroundColor: \"#000000\" }}\n    />\n    <h4>\n      2. Create a camera preview using Expo camera component and capture picture\n    </h4>\n    <p>\n      I already wrote a guide about\n      <a href=\"/reactnative-intro/reactnative-expo-introduction\">\n        {\" \"}how to create a Expo app {\" \"}\n      </a>and\n      <a href=\"/reactnative-intro/reactnative-expo-camera\">\n        {\" \"}how to create and capture picture{\" \"}\n      </a>using Camera.\n    </p>\n    <img\n      src={FinalScreenShot}\n      alt=\"Screen with capture button and functionlaityI\"\n      height=\"50%\"\n      width=\"50%\"\n      style={{ position: \"relative\", left: \"25%\" }}\n    />\n    <h4>3. Upload pictures using React native AWS S3</h4>\n    <p>\n      Here i am going to use the package{\" \"}\n      <a href=\"https://github.com/benjreinhart/react-native-aws3\">\n        {\" \"}benjreinhart/react-native-aws3\n      </a>.\n    </p>\n    <p>\n      Installation: <b>npm install --save react-native-aws3</b>\n    </p>\n    <h6>i. Import package,give correct values to amazon s3 bucket</h6>\n    <Block value={importoptions} />\n    <p>\n      Next we need to give file path.File name and type is important when\n      uploading files into s3.\n    </p>\n    <Block value={filenamepath} />\n    <p>Next we need upload image by passing file and options to a function.</p>\n    <Block value={s3uploadfunction} />\n    <h4>4. Now we have to integrate our app with this package functionality</h4>\n    <p>\n      Add another button called \"Upload\" in the screen.And invoke \"upload\"\n      function when it pressed.\n    </p>\n    <p>App.js</p>\n    <Block value={uploadButton} />\n    <p>Then we need to write a upload function.</p>\n    <p>\n      Create a state variable called imageuri to store captured image and send\n      them as input to s3 upload function \"put\".\n    </p>\n    <p>\n      Suppose if you successfully captured image and stored that into cache and\n      imageuri state variable, RNS3.put will return the response which has\n      results of image upload. From that result object we can find our uploaded\n      amazon s3 uri.\n    </p>\n    <Block value={uploadfunction} />\n    <h4>5. Show uploaded picture in the image component</h4>\n    <p>\n      For this i am going to check state variable \"imageuri\" if it's empty show\n      nothing or show image.\n    </p>\n    <p>Pass image url to Image component source property.</p>\n    <Block value={ImageComponent} />\n    <img src={CameraCapture} alt=\"Capturing image\" height=\"50%\" width=\"50%\" />\n    <img\n      src={UploadedImage}\n      alt=\"Showing uploaded image\"\n      height=\"50%\"\n      width=\"50%\"\n      style={{ position: \"relative\", left: 10 }}\n    />\n    <h4>\n      App.js file{\" \"}\n      <a href=\"https://gist.github.com/PrakashMurugan/b443c44aea82f6639acbd12bf6612fdd\">\n        {\" \"}Gist link{\" \"}\n      </a>\n    </h4>\n    <p />\n    <CtaButton to=\"/reactnative-intro/reactnative-expo-camera\">\n      Previous\n    </CtaButton>\n    <CtaButton to=\"/reactnative-intro/\">Next</CtaButton>\n  </MainLayout>;\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reactnative-intro/reactnative-expo-upload-image-in-amazons3.jsx"],"sourceRoot":""}