webpackJsonp([337665308118065e4],{'./node_modules/babel-loader/lib/index.js?{"plugins":["/Users/prakash/Documents/reactjs/node_modules/gatsby/dist/utils/babel-plugin-extract-graphql.js","/Users/prakash/Documents/reactjs/node_modules/babel-plugin-lodash/lib/index.js","/Users/prakash/Documents/reactjs/node_modules/babel-plugin-add-module-exports/lib/index.js","/Users/prakash/Documents/reactjs/node_modules/babel-plugin-transform-object-assign/lib/index.js"],"presets":[["/Users/prakash/Documents/reactjs/node_modules/babel-preset-env/lib/index.js",{"loose":true,"uglify":true,"modules":"commonjs","targets":{"browsers":["> 1%","last 2 versions","IE >= 9"]},"exclude":["transform-regenerator","transform-es2015-typeof-symbol"]}],"/Users/prakash/Documents/reactjs/node_modules/babel-preset-stage-0/lib/index.js","/Users/prakash/Documents/reactjs/node_modules/babel-preset-react/lib/index.js"],"cacheDirectory":true}!./src/pages/reactnative-intro/reactnative-login.jsx':function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n("./node_modules/react/react.js"),o=a(s),l=n("./src/components/MainLayout.jsx"),r=a(l),i=n("./src/components/CtaButton.jsx"),u=a(i),d=n("./src/components/Block.jsx"),c=a(d),p='\nimport React, { Component } from "react";\nimport { View, TextInput, Button } from "react-native";\nclass LoginScreen extends Component{\n    state = {\n        phone: "",\n        password: "",\n        message:""\n    };\n\n    login=()=>{\n    }\n\n    render(){\n        return <View>\n                <TextInputplaceholder="Phone" style={styles.input} onChangeText={e => this.setState({ phone: e })}/>\n                <TextInputplaceholder="Password" style={styles.input} onChangeText={e => this.setState({ password: e })}/>\n                <Text style={styles.messagetext}>{this.state.message}</Text>\n                <Button onPress={this.login}>Login</Button>\n                </View>\n    }\n}\n',m='\nlogin=()=>{\n    const {phone,password} = this.state;\n    this.props\n      .mutate({\n        variables: {\n          phone: phone.trim(),\n          password: password.trim()\n        }\n      })\n      .then(resp => {\n        if (resp.data.AuthenticateUser.result) {\n          const id = resp.data.AuthenticateUser.result.id;\n          AsyncStorage.setItem("userid", id);\n          this.setState({message: "Loggedin successfully" });\n        } else {\n          this.setState({message: "Invalid credentials" });\n        }\n      })\n      .catch(() => {\n        this.setState({message: "Invalid credentials" });\n      });\n}\n',h="\nconst LoginQuery = gql'\n  mutation AuthenticateUser(\n    $phone: String!\n    $password: String!\n  ) {\n    AuthenticateUser(phone: $phone, password: $password) {\n      result\n      error\n    }\n  }\n';\nexport default graphql(LoginQuery)(LoginScreen);\n";t.default=function(e){return o.default.createElement(r.default,null,o.default.createElement("h2",null,"React Native Login"),o.default.createElement("p",null,"User login and authentication is a primary functionality. Let's see how to create a Login Page and authenticate user."),o.default.createElement("h4",null,"1. Creat a component"),o.default.createElement("p",null,"To create a login page we need an input components like Input boxes to enter username and password and Button component to submit values and invoke authentication functions."),o.default.createElement(c.default,{value:p}),o.default.createElement("h4",null,"2. Define a login function"),o.default.createElement("p",null,"Here i am gonna use this.mutate() method to pass arguments to a query and authenticate a user."),o.default.createElement("p",null,"To use this method we should wrap our component inside database connectivity components.Here i am using the",o.default.createElement("a",{href:"https://github.com/apollographql/react-apollo"},o.default.createElement("b",null," react-apollo ")),"package to establish a database connection and a query execution."),o.default.createElement(c.default,{value:h}),o.default.createElement("p",null,"This is nothing but getting values from input boxes and do some validations.After validation success hit the database to authenticate user login details."),o.default.createElement(c.default,{value:m}),o.default.createElement("h4",null,"3. Display result"),o.default.createElement("p",null,"Now we have to enter a phone number and password to login.The Authenticaiton result will be displayed in message text and then we need to navigate if the result is success."),o.default.createElement(u.default,{to:"/reactnative-intro/"},"Previous"),o.default.createElement(u.default,{to:"/reactnative-intro/reactnative-signup"},"Next"))},e.exports=t.default}});
//# sourceMappingURL=component---src-pages-reactnative-intro-reactnative-login-jsx-648a0a25b1542a1131c6.js.map